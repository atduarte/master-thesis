\chapter{Barinel Integration}\label{chap:chap4}

\section*{}

One of the objetives is to improve Barinel results and for doing so integrations with the existing Barinel project were made.
Priors replacement and results modification were the approaches chosen.

\subsection{Priors Replacement}

Barinel by default uses $\frac{1}{1000}$ as the defect probability (prior) for all software components (\ref{eq:4.1}).
%
\begin{equation} \label{eq:4.1}
  \pr(d) = \prod_{j \in d} \frac{1}{1000} \cdot \prod_{j \notin d} (1 - \frac{1}{1000})
\end{equation}

With this integration the Barinel project is now capable of receiving specific priors for each component, reading it from a CSV file located at the root of project being analyzed, and attributing them to the corresponding probes (\ref{eq:4.2}).
%
\begin{equation} \label{eq:4.2}
  \pr(d) = \prod_{j \in d} p_j \cdot \prod_{j \notin d} (1 - p_j)
\end{equation}


Maximum Likehood Estimation (MLE) continues to be used in order to maximize the probability, by defining the best possible goodness values.

\subsection{Results Modification}

The second approach maintains the priors at $\frac{1}{1000}$ and directly modifies the final result calculated by Barinel ($Pr(d_j, obs, e)$) by multiplying it by $2$ if considered faulty.
%
\begin{equation} \label{eq:4.2}
  Pr'(d_j, obs, e) = Pr(d_j, obs, e) \cdot 
  \begin{cases}
    2   & \textrm{if} j is faulty \\
	1  	& \textrm{otherwise}
  \end{cases}
\end{equation}

% TODO: Change this
